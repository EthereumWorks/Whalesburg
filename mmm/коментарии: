Аудит смарт контракта Make Much Money crowdsale.

Общие замечания:

Код контрактов проверен на предмет программных закладок и критических ошибок спобоных привести к потере денег инвесторами.

В контракте Make Much Money  отсутсвуют критические ошибки, из за которых код не будет работать как ожидается.

Присутствует возможность пересылки токенов до периода окончания ICO. 

Распродажа токенов MMMT осуществляется через контракт MMMTokenCoin, он наследует функционал контрактов токена MintableToken из стандартной библиотеки OpenZeppelin.

В контракте отсуствует механизм Pauseble - позволяющиго поставить распродажу на паузу и Burnable - позволяющий сэигать токены.

Контракт использует видоизмененную библиотеку Safemath с функцией сожных процентов, не являющейся частью библиотеки OpenZeppelin.


Обзор контрактов

TokenERC20

(Примечание) Вся эмиссия токенов указывается при деплое контракта (без учета десятичной части).
(Примечание) Местонаходение токенов в момент эмиссии непонятно.

(Важно) В функции, отвечающей за прием эфира на счет контракта не установлено ограничение минимальной транзакции в 0.001 эфира, но при попытке отправить эфира на сумму меньше 0.001 не возникает ошибка в функции и токены не переводяться, вместо того чтобы выдавать ошибку.

(Не критично) Рекомендую добавить в контракт публичную переменную, отображающую сколько всего эфиров собрал контракт. Данная переменная позволит отслеживать сколько всего собрано денег через контракт и выводить эту информацию в dapp. 

(Не критично) Использование оператора require вместо assert позволит сэкономить газ в случае ошибочных вычислений в методах контракта.(библиотека safeMath)


контракт MMMTokenCoin
(Важно) при заявленном в ТЗ количестве 999 млн монет -  общая эмиссия составляет более 9 млрд токенов.

(Критично) Сканер-системы не видят балансы токенов и транзакции пересылки токенов (ошибка transfer).

(Важно) Дублирование функционала. Наличие функции mint при разовом выпуске токенов при деплое.

(Важно) newDay - функция не функционирует.

(Не критично) refundToOtherGet - несмотря на public, панель управления контрактом не видит функции.

(Критично) Вызов функции mint не увеличиает баланс 
 totalSupply = totalSupply.add(_amount).

(Не критично) Gas limit от 4 000 000 wei из-за тяжелой функции compoundInterest в библиотеке safeMath.

(Критично) токены отправляются после вызова finishMining.

(Примечание) Функция finishMining может вызываться несколько раз.


Предупреждение об ответственности

Этот аудит касается только исходных кодов смарт контрактов и не должен рассматриваться как одобрение платформы, команды или компании.

Авторы

Аудит проведен Борисовым Иваном - https://github.com/PillarDevelompent/, по вопросам проведения аудитов и разработки смарт контрактов обращайтесь: Telegram - @PillarDev, Skype - 2622610.